{% set options = {
    id: 'map',
    width: '100%',
    height: '400px'
} %}

{#{{ craft.googleMaps.data(options.id, block.map) }}#}

<div class="container">
    <div id="{{ options.id }}" style=" height: {{ options.height }}; width: {{ options.width }}; "></div>
    <script>
        var map;
        function initMap() {
            // Display the map
            map = new google.maps.Map(document.getElementById("map"), {
                center: {
                    lat: {{ block.map.lat }},
                    lng: {{ block.map.lng }}
                },
                zoom: 12
            });

            // Display the marker
            var marker = new google.maps.Marker({
                position: {
                    lat: {{ block.map.lat }},
                    lng: {{ block.map.lng }}
                },
                // A custom icon can be defined here, if desired
                // icon: '/path/to/custom/icon.png',
                map: map
            });
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ craft.maps.mapToken }}&callback=initMap" async defer></script>
</div>
